Description: Fix FTBFS on kfreebsd and hurd.
 Upstream hard coded *freebsd* to use gmd5sum, which should be
 md5sum on Debian kfreebsd. Also, upstream didn't check for
 hurd, now added.
Author: Aron Xu <happyaron.xu@gmail.com>
Bug-Debian: 609776
Forwarded: http://code.google.com/p/fcitx/issues/detail?id=377
Last-Update: 2011-01-14
--- a/configure
+++ b/configure
@@ -12661,6 +12661,10 @@
 $as_echo_n "checking host platform characteristics... " >&6; }
 
 case "$host" in
+    *-*-*kfreebsd*)
+    HOST_LIBS="-ldl -lpthread"
+    md5prog=md5sum
+    ;;
     *-*-*freebsd*)
     HOST_LIBS="-lexecinfo -pthread"
     md5prog=gmd5sum
@@ -12669,6 +12673,10 @@
     HOST_LIBS="-ldl -lpthread"
     md5prog=md5sum
     ;;
+    *-*-*hurd*)
+    HOST_LIBS="-ldl -lpthread"
+    md5prog=md5sum
+    ;;
 esac
 
 
--- a/configure.in
+++ b/configure.in
@@ -29,6 +29,10 @@
 AC_MSG_CHECKING([host platform characteristics])
 
 case "$host" in
+    *-*-*kfreebsd*)
+    HOST_LIBS="-ldl -lpthread"
+    md5prog=md5sum
+    ;;
     *-*-*freebsd*)
     HOST_LIBS="-lexecinfo -pthread"
     md5prog=gmd5sum
@@ -37,6 +41,10 @@
     HOST_LIBS="-ldl -lpthread"
     md5prog=md5sum
     ;;
+    *-*-*hurd*)
+    HOST_LIBS="-ldl -lpthread"
+    md5prog=md5sum
+    ;;
 esac
 
 AC_SUBST(HOST_LIBS)
